{% extends 'base.html' %}

{% block content %}



<h1>Where do the locals eat?</h1>


<div id='main-home-div'
    {% if not session.get('user_id') %} hidden {% endif %}>
<!-- search for a city which uses Google Places autocomplete -->
    <div id='search-div'>
        <h3>Search for a city</h3>

            <form action='/search-city'>
                <label>City
                    <input id='autocomplete' type='text' name='city-name' required>
                    <input type='submit' id='search-city' value='Search'>
                </label>
            </form>
    </div>

    <div id='view-controls'>
        <button id='list-view-btn'>List View</button>
        <button id='map-view-btn'>Map View</button>
    </div>

    <div id='city-div' hidden>
        <ul>
            {% for location in all_locations %}
                <li data-lat='{{ location.get("lat") }}' data-lng='{{ location.get("lng") }}' data-city='{{ location.get("city").lower() }}' data-state='{{ location.get("state").lower() }}'>
                    <a href='/cities/{{ location.get("state").lower() }}/{{ location.get("city").lower() }}'>{{ location.get("city").title() }}, {{ location.get("state") }}</a>
                <!-- <br> -->
                </li>
            {% endfor %}
        </ul>
    </div>

    <div id='main-map'></div>

</div>

<script>
    var input = document.getElementById('autocomplete');
    var options = {
        types: ['(cities)']
    };

    autocomplete = new google.maps.places.Autocomplete(input, options);
</script>

<script>
    let idOfOptionToBold = '';
</script>

<script src='/static/js/main-map.js'></script>

{% endblock %}

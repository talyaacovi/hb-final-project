{% extends 'base.html' %}
{% block content %}

<script>

  let data = {'username': '{{ user_dict.get("username") }}',
              'city': '{{ user_dict.get("city") }}',
              'state': '{{ user_dict.get("state") }}',
              'listname': '{{ user_dict.get("listname") }}',
              'list_id': '{{ user_dict.get("list_id") }}'};

</script>

<div class='container-fluid'>

    <p id='msg-para'></p>

    <div id="profile-alert" class="alert alert-warning alert-dismissible" role="alert" hidden>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    </div>

    <div id="email-alert" class="alert alert-success alert-dismissible" role="alert" hidden>
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    </div>

    <div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title" id="myModalLabel">Send List</h4>
          </div>
          <div class="modal-body">
            <p class="modal-title" id="emailModalMsg"></p>
            <form id='email-form-bootstrap' method='POST' action='/send-user-list'>
              <div class="form-group">
                <label for="Email">To Email:</label>
                <input type="email" name='email' class="form-control" id="SendEmail" placeholder="Email" required>
              </div>
              <div class="form-group">
                <label for="From">From:</label>
                <input type="text" name='from' class="form-control" id="FromEmail" placeholder="From" required>
              </div>
              <input type="hidden" name='username' value='{{ user_dict.get("username") }}' class="form-control">
              <button type="submit" class="btn btn-default">Submit</button>
            </form>

          </div>
        </div>
      </div>
    </div>


    <div id='msg-div'></div>

    <div id="root"></div>

</div>

<script>
    {% if user_dict.get('username') == session.get('username') %}
        let viewingOwnPage = true;
    {% else %}
        let viewingOwnPage = false;
    {% endif %}
</script>

<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/prop-types@15.6/prop-types.js"></script>
<script src="http://unpkg.com/babel-standalone"></script>

<script src="/static/js/search-react.jsx" type="text/jsx"></script>
<script src="/static/js/list-item-react.jsx" type="text/jsx"></script>
<script src="/static/js/list-react.jsx" type="text/jsx"></script>
<script src="/static/js/profile-react.jsx" type="text/jsx"></script>
<script src="/static/js/user-react.jsx" type="text/jsx"></script>
<script src="/static/js/container-react.jsx" type="text/jsx"></script>
<script src='/static/js/send-email.js'></script>


<script>
    let idOfOptionToBold = '#profile-page-link';;
</script>

{% endblock %}